
<html>
    <head>
        <style>
            body{
                background-color: #c2b280;
            }
            div{
                border: 1px solid black;
                width: 68px;
                height: 68px;
                background-color: #627c35;
                float: left;
                padding: 0px;
            }

            #board{
                border: 0px
            }

            .black{
                background-color: #404040;
                color: white
            }

            .white{
                background-color: #f7f2dc;
                color: black
            }
            .pedina{
                width: 60px;
                height: 60px;
                border-radius: 30px;
                position: relative;
                left: 4px;
                top: 4px;
                text-align: center; /* orizzontale */
                line-height: 60px; /* verticale */ 
            }
            .quadratino{
                width: 10px;
                height: 10px;
                background-color: gray;
                position: relative;
                left: 29px;
                top: 29px;
            }

            #nuova_partita{
                height: 54px;
                width: 150px;
                background-color: transparent;
                float:none;
                position: relative;
                left: 748px;
                top: 70px;
                border-color: transparent;
                background-image: url(ricarica2.png);
            }
        </style>
        <script>
            class Casella {
                constructor(yx, y, x) {
                    this.inside = null
                    this.yx = yx
                    this.y = y
                    this.x = x
                }
            }
            let caselle = []
            let turno = 'black'
            let contapedinewhite = 2 //conta le caselle bianche
            let contapedineblack = 2 //conta le pedine nere
            for(let i=0; i<=63; i++) {
                let x = i % 8 +1; 
                let y = Math.floor(i / 8) + 1;
                //console.log(x, y)

                // globalThis["casella"+ yx] = new Casella(yx, y, x)
                // caselle.push("casella"+ yx)

                let yx = String(y)+String(x);
                    eval('var casella' + yx + '= new Casella('+ yx +', '+y+', '+x+');')
                    eval('caselle.push(casella'+yx+')')
                }
            const generaScacchiera = () => {
                for(let i=0; i<=63; i++) {
                    let x = i % 8 +1; 
                    let y = Math.floor(i / 8) + 1;
                    //console.log(x, y)

                    let yx = String(y)+String(x);
                    document.getElementById("board").innerHTML += '<div id = "' + yx + '" onclick="aggiungiPedina('+ yx +',casella'+ yx +')"></div>';
                    
                }
                document.getElementById("44").innerHTML += "<div class = 'white pedina'></div>"
                casella44.inside = "white"
                document.getElementById("45").innerHTML += "<div class = 'black pedina'></div>"
                casella45.inside = "black"
                document.getElementById("54").innerHTML += "<div class = 'black pedina'></div>"
                casella54.inside = "black"
                document.getElementById("55").innerHTML += "<div class = 'white pedina'></div>"
                casella55.inside = "white"
                cercaMossa()
            }
            const visualizzaContoPedine = () => {
                contapedinewhite = 0
                contapedineblack = 0
                for(casella of caselle){
                    if(casella.inside == "black"){ //conto le caselle nere
                        contapedineblack += 1
                    }
                    else if(casella.inside == "white"){ //conto le caselle bianche
                        contapedinewhite += 1
                    }
                }
                document.getElementById("contapedinewhite").innerHTML = contapedinewhite
                document.getElementById("contapedineblack").innerHTML = contapedineblack
            }
            const cambiaTurno = () => {
                if(turno == 'white'){
                    turno = 'black'
                }
                else{
                    turno = 'white'
                }
            }
            const cambioColore = () => {
                if(turno == "white"){
                    return "<div class = 'white pedina'></div>"
                }
                else{
                    return "<div class = 'black pedina'></div>"
                }
            }
            let controllo = false
            const controlloCambioSotto = (casella, casella_iniziale) => {
                let yx_sotto = casella.yx+10
                if(casella.y == 8){
                    controllo = false
                    return false
                }
                let casella_sotto = eval("casella" + yx_sotto) 
                if(casella_sotto.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_sotto.inside != casella_iniziale.inside && casella_sotto.inside != null){
                    controlloCambioSotto(casella_sotto, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioSopra = (casella, casella_iniziale) => {
                let yx_sopra = casella.yx-10
                if(casella.y == 1){
                    controllo = false
                    return false
                }
                let casella_sopra = eval("casella" + yx_sopra) 
                if(casella_sopra.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_sopra.inside != casella_iniziale.inside && casella_sopra.inside != null){
                    controlloCambioSopra(casella_sopra, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioDestra = (casella, casella_iniziale) => {
                let yx_destra = casella.yx+1
                if(casella.x == 8){
                    controllo = false
                    return false
                }
                let casella_destra = eval("casella" + yx_destra) 
                if(casella_destra.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_destra.inside != casella_iniziale.inside && casella_destra.inside != null){
                    controlloCambioDestra(casella_destra, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioSinistra = (casella, casella_iniziale) => {
                let yx_sinistra = casella.yx-1
                if(casella.x == 1){
                    controllo = false
                    return false
                }
                let casella_sinistra = eval("casella" + yx_sinistra) 
                if(casella_sinistra.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_sinistra.inside != casella_iniziale.inside && casella_sinistra.inside != null){
                    controlloCambioSinistra(casella_sinistra, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioNE = (casella, casella_iniziale) => {
                let yx_NE = casella.yx-9
                if(casella.y == 1 || casella.x == 8){
                    controllo = false
                    return false
                }
                let casella_NE = eval("casella" + yx_NE) 
                if(casella_NE.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_NE.inside != casella_iniziale.inside && casella_NE.inside != null){
                    controlloCambioNE(casella_NE, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioNW = (casella, casella_iniziale) => {
                let yx_NW = casella.yx-11
                if(casella.y == 1 || casella.x == 1){
                    controllo = false
                    return false
                }
                let casella_NW = eval("casella" + yx_NW) 
                if(casella_NW.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_NW.inside != casella_iniziale.inside && casella_NW.inside != null){
                    controlloCambioNW(casella_NW, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioSE = (casella, casella_iniziale) => {
                let yx_SE = casella.yx+11
                if(casella.y == 8 || casella.x == 8){
                    controllo = false
                    return false
                }
                let casella_SE = eval("casella" + yx_SE) 
                if(casella_SE.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_SE.inside != casella_iniziale.inside && casella_SE.inside != null){
                    controlloCambioSE(casella_SE, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const controlloCambioSW = (casella, casella_iniziale) => {
                let yx_SW = casella.yx+9
                if(casella.y == 8 || casella.x == 1){
                    controllo = false
                    return false
                }
                let casella_SW = eval("casella" + yx_SW) 
                if(casella_SW.inside == casella_iniziale.inside){
                    controllo = true
                }
                else if(casella_SW.inside != casella_iniziale.inside && casella_SW.inside != null){
                    controlloCambioSW(casella_SW, casella_iniziale)
                }
                else{
                    controllo = false
                }
            }
            const cambioSotto = (casella) => {
                if(casella.y != 8){
                    let yx_sotto = casella.yx+10
                    let casella_sotto = eval('casella'+ yx_sotto)
                    if(casella_sotto.inside != casella.inside && casella_sotto.inside != null){
                        casella_sotto.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_sotto).innerHTML = cambioColore()
                        cambioSotto(casella_sotto)
                    }
                }

                
            }
            const cambioSopra = (casella) => {
                if(casella.y != 1){
                    let yx_sopra = casella.yx-10
                    let casella_sopra = eval('casella'+yx_sopra)
                    if(casella_sopra.inside != casella.inside && casella_sopra.inside != null){
                        casella_sopra.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_sopra).innerHTML = cambioColore()
                        cambioSopra(casella_sopra)
                    }
                }
            }
            const cambioDestra = (casella) => {
                if(casella.x != 8){
                    let yx_destra = casella.yx+1
                    let casella_destra = eval('casella'+yx_destra)
                    if(casella_destra.inside != casella.inside && casella_destra.inside != null){
                        casella_destra.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_destra).innerHTML = cambioColore()
                        cambioDestra(casella_destra)
                    }
                }
            }
            const cambioSinistra = (casella) => {
                if(casella.x != 1){
                    let yx_sinistra = casella.yx-1
                    let casella_sinistra = eval('casella'+yx_sinistra)
                    if(casella_sinistra.inside != casella.inside && casella_sinistra.inside != null){
                        casella_sinistra.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_sinistra).innerHTML = cambioColore()
                        cambioSinistra(casella_sinistra)
                    }
                }
            }
            const cambioNE = (casella) => {
                if(casella.x != 8 && casella.y != 1){
                    let yx_NE = casella.yx-9
                    let casella_NE = eval('casella'+yx_NE)
                    if(casella_NE.inside != casella.inside && casella_NE.inside != null){
                        casella_NE.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_NE).innerHTML = cambioColore()
                        cambioNE(casella_NE)
                    }
                }
            }
            const cambioNW = (casella) => {
                if(casella.x != 1 && casella.y != 1){
                    let yx_NW = casella.yx-11
                    let casella_NW = eval('casella'+yx_NW)
                    if(casella_NW.inside != casella.inside && casella_NW.inside != null){
                        casella_NW.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_NW).innerHTML = cambioColore()
                        cambioNW(casella_NW)
                    }
                }
            }
            const cambioSE = (casella) => {
                if(casella.x != 8 && casella.y != 8){
                    let yx_SE = casella.yx+11
                    let casella_SE = eval('casella'+yx_SE)
                    if(casella_SE.inside != casella.inside && casella_SE.inside != null){
                        casella_SE.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_SE).innerHTML = cambioColore()
                        cambioSE(casella_SE)
                    }
                }
            }
            const cambioSW = (casella) => {
                if(casella.x != 1 && casella.y != 8){
                    let yx_SW = casella.yx+9
                    let casella_SW = eval('casella'+yx_SW)
                    if(casella_SW.inside != casella.inside && casella_SW.inside != null){
                        casella_SW.inside = casella.inside
                        //console.log(cambioColore())
                        document.getElementById(yx_SW).innerHTML = cambioColore()
                        cambioSW(casella_SW)
                    }
                }
            }
            const aggiungiPedina = (yx, casella) => {
                //console.log(document.getElementById(yx).innerHTML)
                if(document.getElementById(yx).innerHTML != "" && casella.inside == null){
                    if(turno == 'white'){
                        document.getElementById(yx).innerHTML = "<div class = 'white pedina'></div>"
                        casella.inside = "white"
                        if(casella.x != 8){
                            controlloCambioDestra(casella,casella)
                            if(controllo == true){
                                cambioDestra(casella)
                            }
                        }
                        if(casella.x != 1){
                            controlloCambioSinistra(casella,casella)
                            if(controllo == true){
                                cambioSinistra(casella)
                            }
                        }
                        if(casella.x != 8 && casella.y != 1){
                            controlloCambioNE(casella,casella)
                            if(controllo == true){
                                cambioNE(casella)
                            }
                        }
                        if(casella.x != 8 && casella.y != 8){
                            controlloCambioSE(casella,casella)
                            if(controllo == true){
                                cambioSE(casella)
                            }
                        }
                        if(casella.y != 1){
                            controlloCambioSopra(casella,casella)
                            if(controllo == true){
                                cambioSopra(casella)
                            }
                        }
                        if(casella.y != 8){
                            controlloCambioSotto(casella,casella)
                            if(controllo == true){
                                cambioSotto(casella)
                            }
                        }
                        if(casella.x != 1 && casella.y != 1){
                            controlloCambioNW(casella,casella)
                            if(controllo == true){
                                cambioNW(casella)
                            }
                        }
                        if(casella.x != 1 && casella.y != 8){
                            controlloCambioSW(casella,casella)
                            if(controllo == true){
                                cambioSW(casella)
                            }
                        }  
                    }
                    if(turno == 'black'){
                        document.getElementById(yx).innerHTML = "<div class = 'black pedina'></div>"
                        casella.inside = "black"
                        if(casella.x != 8){
                            controlloCambioDestra(casella,casella)
                            if(controllo == true){
                                cambioDestra(casella)
                            }
                        }
                        if(casella.x != 1){
                            controlloCambioSinistra(casella,casella)
                            if(controllo == true){
                                cambioSinistra(casella)
                            }
                        }
                        if(casella.x != 8 && casella.y != 1){
                            controlloCambioNE(casella,casella)
                            if(controllo == true){
                                cambioNE(casella)
                            }
                        }
                        if(casella.x != 8 && casella.y != 8){
                            controlloCambioSE(casella,casella)
                            if(controllo == true){
                                cambioSE(casella)
                            }
                        }
                        if(casella.y != 1){
                            controlloCambioSopra(casella,casella)
                            if(controllo == true){
                                cambioSopra(casella)
                            }
                        }
                        if(casella.y != 8){
                            controlloCambioSotto(casella,casella)
                            if(controllo == true){
                                cambioSotto(casella)
                            }
                        }
                        if(casella.x != 1 && casella.y != 1){
                            controlloCambioNW(casella,casella)
                            if(controllo == true){
                                cambioNW(casella)
                            }
                        }
                        if(casella.x != 1 && casella.y != 8){
                            controlloCambioSW(casella,casella)
                            if(controllo == true){
                                cambioSW(casella)
                            }
                        }  
                    }
                    for(let casella of caselle){
                        let yx = casella.yx
                        if(casella.inside == null){
                            document.getElementById(yx).innerHTML = ""
                        }
                    }
                    cambiaTurno()
                }

                visualizzaContoPedine()
                cercaMossa()
            }

            const vittoria = () => {
                if(contapedineblack > contapedinewhite){
                    alert("Il nero ha vinto la partita con " + contapedineblack + " pedine")
                }
                else if(contapedinewhite > contapedineblack){
                    alert("Il bianco ha vinto la partita con " + contapedinewhite + " pedine")
                }
                else{
                    alert("La partita è finita in pareggio")
                }
            }

            const controllaSopra = (casella, yx, giaChiamato = false) => {
                let yx_sopra = yx-10 //es. casella.yx = 46 --> yx_sopra = 36
                if (casella.y == 1){ //se la casella è nella prima riga return 0
                    //console.log(0)
                    return 0
                }
                let casella_sopra = eval('casella'+yx_sopra) //es. casella_sopra = casella36
                //console.log(casella_sopra)
                if(giaChiamato){ //quando la funzione viene richiamata almeno una volta
                    if (casella_sopra.inside == null){
                        //console.log(casella_sopra)
                        return casella_sopra
                    }
                    else if (casella_sopra.inside == casella.inside){
                        return controllaSopra(casella_sopra, yx_sopra, true)
                    }
                    else if (casella_sopra.inside != casella.inside){
                        return 0
                    }
                }
                else{ //solo al primo giro della funzione
                    //console.log(casella_sopra.inside, casella.inside)

                    //controllo che la casella sopra abbia il colore opposto a casella
                    if ((casella_sopra.inside != null) && (casella_sopra.inside != casella.inside)){ 
                        return controllaSopra(casella_sopra, yx_sopra, true) 
                        //richiamo la funzione con giàchiamato = true
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaSotto = (casella, yx, giaChiamato = false) => {
                let yx_sotto = yx+10
                if (casella.y == 8){
                    //console.log(0)
                    return 0
                }
                let casella_sotto = eval('casella'+yx_sotto)
                //console.log(casella_sotto)
                if(giaChiamato){
                    if (casella_sotto.inside == null){
                        //console.log(casella_sotto)
                        return casella_sotto
                    }
                    else if (casella_sotto.inside == casella.inside){
                        return controllaSotto(casella_sotto, yx_sotto, true)
                    }
                    else if (casella_sotto.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_sotto.inside, casella.inside)
                    if ((casella_sotto.inside != null) && (casella_sotto.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaSotto(casella_sotto, yx_sotto, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaDestra = (casella, yx, giaChiamato = false) => {
                let yx_destra = yx+1
                if (casella.x == 8){
                    //console.log(0)
                    return 0
                }
                let casella_destra = eval('casella'+yx_destra)
                //console.log(casella_destra)
                if(giaChiamato){
                    if (casella_destra.inside == null){
                        //console.log(casella_destra)
                        return casella_destra
                    }
                    else if (casella_destra.inside == casella.inside){
                        return controllaDestra(casella_destra, yx_destra, true)
                    }
                    else if (casella_destra.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_destra.inside, casella.inside)
                    if ((casella_destra.inside != null) && (casella_destra.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaDestra(casella_destra, yx_destra, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaSinistra = (casella, yx, giaChiamato = false) => {
                let yx_sinistra = yx-1
                if (casella.x == 1){
                    //console.log(0)
                    return 0
                }
                let casella_sinistra = eval('casella'+yx_sinistra)
                //console.log(casella_sinistra)
                if(giaChiamato){
                    if (casella_sinistra.inside == null){
                        //console.log(casella_sinistra)
                        return casella_sinistra
                    }
                    else if (casella_sinistra.inside == casella.inside){
                        return controllaSinistra(casella_sinistra, yx_sinistra, true)
                    }
                    else if (casella_sinistra.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_sinistra.inside, casella.inside)
                    if ((casella_sinistra.inside != null) && (casella_sinistra.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaSinistra(casella_sinistra, yx_sinistra, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaNE = (casella, yx, giaChiamato = false) => {
                let yx_NE = yx-9
                if (casella.y == 1 || casella.x == 8){
                    //console.log(0)
                    return 0
                }
                let casella_NE = eval('casella'+yx_NE)
                //console.log(casella_NE)
                if(giaChiamato){
                    if (casella_NE.inside == null){
                        //console.log(casella_NE)
                        return casella_NE
                    }
                    else if (casella_NE.inside == casella.inside){
                        return controllaNE(casella_NE, yx_NE, true)
                    }
                    else if (casella_NE.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_NE.inside, casella.inside)
                    if ((casella_NE.inside != null) && (casella_NE.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaNE(casella_NE, yx_NE, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaNW = (casella, yx, giaChiamato = false) => {
                let yx_NW = yx-11
                if (casella.y == 1 || casella.x == 1){
                    //console.log(0)
                    return 0
                }
                let casella_NW = eval('casella'+yx_NW)
                //console.log(casella_NW)
                if(giaChiamato){
                    if (casella_NW.inside == null){
                        //console.log(casella_NW)
                        return casella_NW
                    }
                    else if (casella_NW.inside == casella.inside){
                        return controllaNW(casella_NW, yx_NW, true)
                    }
                    else if (casella_NW.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_NW.inside, casella.inside)
                    if ((casella_NW.inside != null) && (casella_NW.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaNW(casella_NW, yx_NW, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaSW = (casella, yx, giaChiamato = false) => {
                let yx_SW = yx+9
                if (casella.y == 8 || casella.x == 1){
                    //console.log(0)
                    return 0
                }
                let casella_SW = eval('casella'+yx_SW)
                //console.log(casella_SW)
                if(giaChiamato){
                    if (casella_SW.inside == null){
                        //console.log(casella_SW)
                        return casella_SW
                    }
                    else if (casella_SW.inside == casella.inside){
                        return controllaSW(casella_SW, yx_SW, true)
                    }
                    else if (casella_SW.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_SW.inside, casella.inside)
                    if ((casella_SW.inside != null) && (casella_SW.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaSW(casella_SW, yx_SW, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            const controllaSE = (casella, yx, giaChiamato = false) => {
                let yx_SE = yx+11
                if (casella.y == 8 || casella.x == 8){
                    //console.log(0)
                    return 0
                }
                let casella_SE = eval('casella'+yx_SE)
                //console.log(casella_SE)
                if(giaChiamato){
                    if (casella_SE.inside == null){
                        //console.log(casella_SE)
                        return casella_SE
                    }
                    else if (casella_SE.inside == casella.inside){
                        return controllaSE(casella_SE, yx_SE, true)
                    }
                    else if (casella_SE.inside != casella.inside){
                        return 0
                    }
                }
                else{
                    //console.log(casella_SE.inside, casella.inside)
                    if ((casella_SE.inside != null) && (casella_SE.inside != casella.inside)){
                        //console.log("sono qui")
                        return controllaSE(casella_SE, yx_SE, true)
                    }
                    else{
                        return 0
                    }
                }
            }
            let giàRicontrollato = false //serve per non far controllare più volte se ci sono mosse disponibili alla fine del gioco
            const cercaMossa = () => {
                let caselle_riempibili = []
                for(let casella of caselle){
                    // console.log("sono qui")
                    // console.log(casella)

                    if(casella.inside != turno){ // devo trovare le caselle che abbiano l'attributo inside = turno
                        continue
                    }
                    //console.log(casella)
                    let casella_sopra = controllaSopra(casella, casella.yx)
                    let casella_sotto = controllaSotto(casella, casella.yx)
                    let casella_destra = controllaDestra(casella, casella.yx)
                    let casella_sinistra = controllaSinistra(casella, casella.yx)
                    let casella_NE = controllaNE(casella, casella.yx)
                    let casella_NW = controllaNW(casella, casella.yx)
                    let casella_SE = controllaSE(casella, casella.yx)
                    let casella_SW = controllaSW(casella, casella.yx)

                    if(casella_sopra != 0){
                        caselle_riempibili.push(casella_sopra)
                        let yx = casella_sopra.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }

                    if(casella_sotto != 0){
                        caselle_riempibili.push(casella_sotto)
                        let yx = casella_sotto.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_destra != 0){
                        caselle_riempibili.push(casella_destra)
                        let yx = casella_destra.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_sinistra != 0){
                        caselle_riempibili.push(casella_sinistra)
                        let yx = casella_sinistra.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_NE != 0){
                        caselle_riempibili.push(casella_NE)
                        let yx = casella_NE.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_NW != 0){
                        caselle_riempibili.push(casella_NW)
                        let yx = casella_NW.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_SE != 0){
                        caselle_riempibili.push(casella_SE)
                        let yx = casella_SE.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                    if(casella_SW != 0){
                        caselle_riempibili.push(casella_SW)
                        let yx = casella_SW.yx
                        document.getElementById(yx).innerHTML = '<div class = quadratino></div>'
                    }
                }
                //console.log(caselle_riempibili)
                
                //il colore corrispondente al turno potrebbe non avere mosse disponibili
                //quindi l'alro colore deve giocare 2 turni consecutivi
                //però si entra in questa parte di codice anche a fine gioco quando non ci sono più caselle riempibili
                //quindi lo faccio eseguire solo una volta se il numero di caselle riempite è uguale a 64
                if(caselle_riempibili.length == 0 && giàRicontrollato == false){ 
                    //es. il bianco ha appena aggiunto una pedina, si cambia il turno ma il nero non
                    //ha mosse disponibili, il turno ritorna al bianco
                    cambiaTurno()  
                    if(contapedineblack + contapedinewhite == 64){
                        giàRicontrollato = true
                        vittoria()
                    }
                    cercaMossa()
                }
                caselle_riempibili = []
            }

            const ricarica = () => {
                window.location.reload()
            }
            const ricarica_con_ritardo = () =>{
                setTimeout(ricarica, 100)
            }
        </script>
    </head>
    <body onload="generaScacchiera();"> 
        <div id="outer-board" style="width: 698px; height: 698px; background-color: #63462D; border-color: transparent">
            <div id="board" style="width: 560px; height: 560px; position: relative; left: 70px; top: 70px;"></div>
        </div>
        <div class = 'white pedina' style = 'left:30px' id="contapedinewhite">2</div>
        <div class = 'black pedina' style = 'left:60px' id="contapedineblack">2</div>
        <div id = "nuova_partita" onclick="ricarica_con_ritardo();"></div>
        <textarea></textarea>
    </body>
</html>
